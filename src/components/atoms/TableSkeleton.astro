---
/**
 * 表格骨架
 * 用於表格資料載入中狀態
 */
interface Props {
    rows?: number;
    columns?: number;
}

const { rows = 5, columns = 6 } = Astro.props;
---

<div class="skeleton-table">
    <div class="skeleton-thead">
        {Array.from({ length: columns }).map((_, i) => (
            <div class={`skeleton skeleton-th ${i === 0 ? 'large' : ''}`}></div>
        ))}
    </div>
    <div class="skeleton-tbody">
        {Array.from({ length: rows }).map(() => (
            <div class="skeleton-row">
                {Array.from({ length: columns }).map((_, i) => (
                    <div class={`skeleton skeleton-cell ${i === 0 ? 'large' : ''}`}></div>
                ))}
            </div>
        ))}
    </div>
</div>

<style>
    .skeleton-table {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 16px;
        overflow: hidden;
    }

    .skeleton-thead {
        display: flex;
        gap: 16px;
        padding: 14px 16px;
        background: rgba(0, 0, 0, 0.2);
    }

    .skeleton-th {
        height: 16px;
        flex: 1;
    }

    .skeleton-row {
        display: flex;
        gap: 16px;
        padding: 14px 16px;
        border-bottom: 1px solid var(--border);
    }

    .skeleton-row:last-child {
        border-bottom: none;
    }

    .skeleton-cell {
        height: 20px;
        flex: 1;
    }

    .large {
        flex: 1.5;
    }

    .skeleton {
        background: linear-gradient(
            90deg,
            var(--bg-card) 0%,
            rgba(255, 255, 255, 0.08) 50%,
            var(--bg-card) 100%
        );
        background-size: 200% 100%;
        animation: skeleton-shimmer 1.5s infinite;
        border-radius: 4px;
    }

    @keyframes skeleton-shimmer {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    @media (prefers-reduced-motion: reduce) {
        .skeleton {
            animation: none;
            background: rgba(255, 255, 255, 0.05);
        }
    }
</style>

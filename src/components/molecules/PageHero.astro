---
/**
 * PageHero.astro â€” Page header with title, subtitle, and breadcrumb
 * Provides consistent page-level headers across the app.
 */
interface Props {
    title: string;
    subtitle?: string;
    badge?: string;
    badgeVariant?: 'accent' | 'bullish' | 'bearish' | 'warning' | 'muted';
    class?: string;
}

const {
    title,
    subtitle,
    badge,
    badgeVariant = 'accent',
    class: className = '',
} = Astro.props;

const badgeColors: Record<string, string> = {
    accent: 'bg-accent/15 text-accent border-accent/25',
    bullish: 'bg-bullish/15 text-bullish border-bullish/25',
    bearish: 'bg-bearish/15 text-bearish border-bearish/25',
    warning: 'bg-warning/15 text-warning border-warning/25',
    muted: 'bg-surface text-text-muted border-border',
};
---

<div class:list={['page-hero mb-6 animate-fade-up', className]}>
    <div class="flex items-end justify-between gap-4">
        <div class="min-w-0">
            <div class="flex items-center gap-3 mb-1">
                <h1 class="text-2xl lg:text-3xl font-bold tracking-tight text-text-primary truncate">
                    {title}
                </h1>
                {badge && (
                    <span class:list={[
                        'inline-flex items-center px-2.5 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider border shrink-0',
                        badgeColors[badgeVariant],
                    ]}>
                        {badge}
                    </span>
                )}
            </div>
            {subtitle && (
                <p class="text-sm text-text-muted mt-1 line-clamp-2">{subtitle}</p>
            )}
        </div>
        <slot name="actions" />
    </div>
    <slot name="below" />
</div>

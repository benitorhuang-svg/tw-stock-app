---
/**
 * DatabaseWelcome.astro - The welcome state for Database Explorer containing Registry options and FAQ
 */
import RegistryItem from '../atoms/RegistryItem.astro';
import FAQItem from '../atoms/FAQItem.astro';
---

<div
    id="welcome-message"
    class="absolute inset-0 z-10 bg-base-deep overflow-y-auto custom-scrollbar pb-20 pt-10 px-6"
>
    <!-- Global Background Effects -->
    <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] lg:w-[800px] h-[400px] lg:h-[500px] bg-accent/10 blur-[150px] rounded-full pointer-events-none"
    >
    </div>
    <div
        class="absolute inset-0 bg-[linear-gradient(var(--color-border)_1px,transparent_1px),linear-gradient(90deg,var(--color-border)_1px,transparent_1px)] bg-[size:32px_32px] opacity-[0.05] [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_80%)] pointer-events-none"
    >
    </div>

    <div
        class="relative w-full max-w-[1400px] mx-auto p-[1px] rounded-[2.5rem] bg-gradient-to-b from-border/20 via-border/5 to-border/10 animate-fade-up shadow-elevated group/core flex flex-col justify-start"
    >
        <div
            class="absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-accent/50 to-transparent opacity-0 group-hover/core:opacity-100 transition-all duration-1000 blur-sm"
        >
        </div>

        <div
            class="relative w-full bg-base/80 backdrop-blur-md rounded-[2.5rem] p-8 xl:p-12 flex flex-col items-center justify-start gap-10 border border-border/50 shadow-glass"
        >
            <div class="w-full max-w-7xl mx-auto flex flex-col gap-16 py-4">
                <!-- Registry Description (Single Column) -->
                <div class="relative z-10 w-full">
                    <div
                        class="rounded-3xl border border-border/50 bg-surface/30 px-8 lg:px-12 py-6 relative overflow-hidden group shadow-glass"
                    >
                        <div
                            class="absolute inset-0 bg-gradient-to-br from-accent/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"
                        >
                        </div>

                        <div class="relative z-10 space-y-4">
                            <div class="flex items-center gap-4">
                                <div class="w-2 h-6 bg-accent rounded-full"></div>
                                <h3
                                    class="text-lg font-black text-text-primary tracking-[0.2em] uppercase"
                                >
                                    資料庫註冊表用途總覽
                                </h3>
                            </div>

                            <div class="grid grid-cols-1 gap-y-0.5">
                                <!-- Layer 1: Raw Data -->
                                <div
                                    class="py-3 px-6 bg-white/[0.02] rounded-xl mb-1 border border-white/5"
                                >
                                    <span
                                        class="text-[9px] font-black text-gray-400 uppercase tracking-widest"
                                        >① 原始數據層 RAW_DATA_LAKE</span
                                    >
                                </div>
                                <RegistryItem
                                    title="STOCKS"
                                    description="核心實體表，紀錄上市櫃公司代號、名稱、產業別及市場分類。"
                                />
                                <RegistryItem
                                    title="PRICE_HISTORY"
                                    description="歷史行情總匯，累積百萬級 K 線數據，支援全維度技術分析。"
                                />
                                <RegistryItem
                                    title="CHIPS"
                                    description="三大法人每日買賣明細，標定外資、投信與自營商的操作脈絡。"
                                />
                                <RegistryItem
                                    title="MONTHLY_REVENUE"
                                    description="月營收數據流，追蹤公司業績成長性與年增/月增動能趨勢。"
                                />
                                <RegistryItem
                                    title="FUNDAMENTALS"
                                    description="財報核心指標，整合本益比、殖利率及淨值比等基本面要素。"
                                />
                                <RegistryItem
                                    title="SHAREHOLDER_DISTRIBUTION"
                                    description="股權分散數據，追蹤每週大戶持股比例與關鍵散戶流向。"
                                />
                                <RegistryItem
                                    title="GOVERNMENT_CHIPS"
                                    description="八大代庫券商明細，解析官股資金動向與政策護盤底氣。"
                                />
                                <RegistryItem
                                    title="MAJOR_BROKER_CHIPS"
                                    description="關鍵主力分點進出紀錄，鎖定特定分點的大戶建倉行為。"
                                />

                                <!-- Layer 2: Computed Features -->
                                <div
                                    class="py-3 px-6 bg-yellow-500/5 rounded-xl mt-6 mb-1 border border-yellow-500/10"
                                >
                                    <span
                                        class="text-[9px] font-black text-amber-400 uppercase tracking-widest"
                                        >② 運算特徵層 COMPUTED_FEATURES</span
                                    >
                                </div>
                                <RegistryItem
                                    title="DAILY_INDICATORS"
                                    description="自動化運算結果，包含 MA 多頭排列、量能增幅等即時指標。"
                                />
                                <RegistryItem
                                    title="CHIP_FEATURES"
                                    description="籌碼多因子轉化，量化主力吸籌強度與散戶退場係數。"
                                />
                                <RegistryItem
                                    title="TECH_FEATURES"
                                    description="技術面特徵工程，包含 RSI 超賣、MACD 背離等偵測數據。"
                                />
                                <RegistryItem
                                    title="VALUATION_FEATURES"
                                    description="價值模型因子，計算歷史本益比與淨值比之分位點與偏移量。"
                                />

                                <!-- Layer 3: Aggregated Insights -->
                                <div
                                    class="py-3 px-6 bg-emerald-500/5 rounded-xl mt-6 mb-1 border border-emerald-500/10"
                                >
                                    <span
                                        class="text-[9px] font-black text-emerald-400 uppercase tracking-widest"
                                        >③ 聚合洞察層 AGGREGATED_INSIGHTS</span
                                    >
                                </div>
                                <RegistryItem
                                    title="MARKET_BREADTH_HISTORY"
                                    description="全市場廣度追蹤，統計上漲家數比率、市場溫度指標。"
                                />
                                <RegistryItem
                                    title="INSTITUTIONAL_TREND"
                                    description="法人資金合流分析，判別外資投信同步做多的強勢區間。"
                                />
                                <RegistryItem
                                    title="SECTOR_DAILY"
                                    description="產業板塊熱圖數據，即時聚合 33 類產業別的資金淨流向。"
                                />

                                <!-- Layer 4: Snapshots & AI -->
                                <div
                                    class="py-3 px-6 bg-accent/5 rounded-xl mt-6 mb-1 border border-accent/10"
                                >
                                    <span
                                        class="text-[9px] font-black text-accent uppercase tracking-widest"
                                        >④ 快照鑑識層 SNAPSHOT_FORENSICS</span
                                    >
                                </div>
                                <RegistryItem
                                    title="LATEST_PRICES"
                                    description="每日最新行情快照，反映即時價格位階與漲跌熱力分布。"
                                />
                                <RegistryItem
                                    title="AI_REPORTS"
                                    description="M2 Orchestrator 生成的深度鑑識摘要，提供個股 AI 洞察結論。"
                                />
                                <RegistryItem
                                    title="INSTITUTIONAL_SNAPSHOT"
                                    description="法人當日最新觀測，快速掌握大戶籌碼異動之預警信號。"
                                />
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom: FAQ Section -->
                <div class="relative z-10 w-full mb-12">
                    <div
                        class="rounded-3xl border border-border/50 bg-surface/50 overflow-hidden shadow-elevated"
                    >
                        <div class="px-8 py-6 border-b border-border/50 bg-base/50">
                            <div class="flex items-center gap-3">
                                <svg
                                    class="w-5 h-5 text-accent"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                                    ></path>
                                </svg>
                                <h3
                                    class="text-sm font-black text-text-primary tracking-[0.2em] uppercase"
                                >
                                    常見問題 FAQ
                                </h3>
                            </div>
                        </div>

                        <div class="p-8 grid grid-cols-1 md:grid-cols-3 gap-12 bg-surface/20">
                            <FAQItem
                                question="資料同步頻率為何？"
                                answer="系統於每日台股收盤後（16:30）自動對接證交所與櫃買中心數據，確保開盤報價、法人籌碼及各類註冊資料即時入庫。"
                            />
                            <FAQItem
                                question="數據缺失或代號找不到？"
                                answer="若遇特定交易日資料延遲，請利用頂部導覽列之「數據更新」功能手動同步。新掛牌公司資料通常於上市當日盤後完成初始化。"
                            />
                            <FAQItem
                                question="如何執行跨表與量化分析？"
                                answer="目前觀測站提供核心資料表之即時檢索。若需執行多因子選股、量化回測或複雜關聯查詢，請前往頂部導覽之「策略分析」模組。"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

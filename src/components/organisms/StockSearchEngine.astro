---
/**
 * StockSearchEngine.astro - Advanced search interface with popover results
 */
---

<div class="relative max-w-2xl mx-auto mb-20 animate-fade-up" style="animation-delay: 100ms">
    <!-- Search Field -->
    <div class="absolute inset-y-0 left-6 flex items-center pointer-events-none text-accent/60">
        <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            stroke-width="2.5"
            viewBox="0 0 24 24"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
    </div>
    <input
        type="text"
        id="analysis-hub-search"
        placeholder="SEARCH_BY_SYMBOL_OR_NAME..."
        class="w-full bg-input-bg border border-border/50 focus:border-accent/40 rounded-2xl pl-16 pr-6 py-6 text-lg font-mono placeholder:text-text-muted/30 outline-none transition-all shadow-glass focus:shadow-[0_0_60px_rgba(59,130,246,0.1)] text-text-primary"
    />

    <!-- Forensic Search Results -->
    <div
        id="search-results"
        class="hidden absolute top-full left-0 right-0 mt-4 glass-card overflow-hidden z-50 border-accent/20 shadow-2xl animate-in fade-in slide-in-from-top-4 duration-300"
    >
        <div class="p-3 divide-y divide-border/30" id="results-container">
            <!-- Dynamic Items Injected by Client -->
        </div>
        <div
            class="p-4 bg-surface-hover/30 border-t border-border/50 flex justify-between items-center px-6"
        >
            <span class="text-[8px] font-mono text-text-muted/50 uppercase tracking-widest"
                >Global_Index: TWSE_Nexus</span
            >
            <div class="flex gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-accent/20"></span>
                <span class="w-1.5 h-1.5 rounded-full bg-accent/40"></span>
                <span class="w-1.5 h-1.5 rounded-full bg-accent/60"></span>
            </div>
        </div>
    </div>
</div>

<style is:global>
    @reference "../../styles/global.css";
    .search-result-item {
        @apply flex items-center justify-between p-4 px-6 hover:bg-accent/5 transition-all no-underline;
    }
</style>

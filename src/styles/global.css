@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* ================================================================
   QUANTUM TERMINAL DESIGN SYSTEM
   TW Stock App — Premium Financial Terminal
   Single Source of Truth for all visual tokens
   ================================================================ */

/* ── Google Fonts loaded via <link> in BaseHead.astro ── */

/* ── Tailwind v4 Theme ── */
/* ── CSS Theme Variables (Light/Dark support) ── */
:root {
    --color-base: hsl(240 20% 98%);
    --color-base-deep: hsl(240 15% 94%);
    --color-surface: hsl(0 0% 100%);
    --color-surface-hover: hsl(240 10% 96%);
    --color-elevated: hsl(0 0% 100%);

    --color-accent: hsl(217 91% 55%);
    --color-accent-dim: hsl(217 91% 65%);
    --color-accent-glow: hsl(217 91% 60% / 0.1);

    --color-bullish: hsl(346 77% 50%);
    --color-bullish-dim: hsl(346 77% 35%);
    --color-bullish-glow: hsl(346 77% 50% / 0.1);

    --color-bearish: hsl(142 71% 40%);
    --color-bearish-dim: hsl(142 71% 30%);
    --color-bearish-glow: hsl(142 71% 45% / 0.1);

    --color-warning: hsl(38 92% 45%);
    --color-warning-dim: hsl(38 92% 35%);

    --color-glass: hsl(0 0% 0% / 0.02);
    --color-glass-hover: hsl(0 0% 0% / 0.04);
    --color-glass-elevated: hsl(0 0% 0% / 0.06);
    --color-border: hsl(0 0% 0% / 0.08);
    --color-border-hover: hsl(0 0% 0% / 0.12);
    --color-border-highlight: hsl(0 0% 0% / 0.15);

    --color-text-primary: hsl(240 10% 10%);
    --color-text-secondary: hsl(240 5% 35%);
    --color-text-muted: hsl(240 4% 50%);

    /* Stock Specific Colors (Universal) */
    --color-stock-name: var(--color-text-primary);
    --color-stock-symbol: var(--color-text-muted);
    --color-stock-price: hsl(217 91% 55%);
    --color-stock-volume: hsl(38 92% 50%);

    --shadow-glass: 0 4px 12px rgba(0, 0, 0, 0.05);
    --shadow-elevated: 0 8px 24px rgba(0, 0, 0, 0.08);
    --color-scrollbar: hsl(217 91% 55% / 0.3);
    --color-scrollbar-hover: hsl(217 91% 55% / 0.6);
}

.dark {
    --color-base: hsl(240 10% 6%);
    --color-base-deep: hsl(240 10% 4%);
    --color-surface: hsl(240 6% 14%);
    --color-surface-hover: hsl(240 6% 18%);
    --color-elevated: hsl(240 6% 22%);

    --color-accent: hsl(217 100% 70%);
    --color-accent-dim: hsl(217 91% 50%);
    --color-accent-glow: hsl(217 100% 70% / 0.2);

    --color-bullish: hsl(355 100% 65%);
    --color-bullish-dim: hsl(355 77% 45%);
    --color-bullish-glow: hsl(355 100% 65% / 0.2);

    --color-bearish: hsl(142 85% 55%);
    --color-bearish-dim: hsl(142 71% 40%);
    --color-bearish-glow: hsl(142 85% 55% / 0.2);

    --color-warning: hsl(45 100% 60%);
    --color-warning-dim: hsl(45 92% 45%);

    --color-glass: hsl(240 10% 20% / 0.15);
    --color-glass-hover: hsl(240 10% 25% / 0.25);
    --color-glass-elevated: hsl(240 10% 30% / 0.35);
    --color-border: hsl(240 10% 100% / 0.12);
    --color-border-hover: hsl(240 10% 100% / 0.2);
    --color-border-highlight: hsl(240 10% 100% / 0.3);

    --color-text-primary: hsl(0 0% 100%);
    --color-text-secondary: hsl(240 15% 90%);
    --color-text-muted: hsl(240 10% 75%);

    /* Stock Specific Colors (Universal) */
    --color-stock-name: var(--color-text-primary);
    --color-stock-symbol: var(--color-text-muted);
    --color-stock-price: hsl(210 100% 65%);
    --color-stock-volume: hsl(45 100% 65%);

    --shadow-glass: 0 0 40px rgba(0, 0, 0, 0.5);
    --shadow-elevated: 0 8px 32px rgba(0, 0, 0, 0.6);
    --color-scrollbar: hsl(217 100% 70% / 0.3);
    --color-scrollbar-hover: hsl(217 100% 70% / 0.6);
}

@theme {
    --color-base: var(--color-base);
    --color-base-deep: var(--color-base-deep);
    --color-surface: var(--color-surface);
    --color-surface-hover: var(--color-surface-hover);
    --color-elevated: var(--color-elevated);

    --color-accent: var(--color-accent);
    --color-accent-dim: var(--color-accent-dim);
    --color-accent-glow: var(--color-accent-glow);

    --color-bullish: var(--color-bullish);
    --color-bullish-dim: var(--color-bullish-dim);
    --color-bullish-glow: var(--color-bullish-glow);

    --color-bearish: var(--color-bearish);
    --color-bearish-dim: var(--color-bearish-dim);
    --color-bearish-glow: var(--color-bearish-glow);

    --color-warning: var(--color-warning);
    --color-warning-dim: var(--color-warning-dim);

    --color-glass: var(--color-glass);
    --color-glass-hover: var(--color-glass-hover);
    --color-glass-elevated: var(--color-glass-elevated);
    --color-border: var(--color-border);
    --color-border-hover: var(--color-border-hover);
    --color-border-highlight: var(--color-border-highlight);

    --color-text-primary: var(--color-text-primary);
    --color-text-secondary: var(--color-text-secondary);
    --color-text-muted: var(--color-text-muted);

    /* Map Stock Colors to Tailwind Utilities */
    --color-stock-name: var(--color-stock-name);
    --color-stock-symbol: var(--color-stock-symbol);
    --color-stock-price: var(--color-stock-price);
    --color-stock-volume: var(--color-stock-volume);

    /* ── Font Families ── */
    --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
    --font-mono: 'JetBrains Mono', ui-monospace, monospace;

    /* ── Border Radius ── */
    --radius-xs: 4px;
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --radius-pill: 9999px;

    /* ── Shadows ── */
    --shadow-glass: var(--shadow-glass);
    --shadow-elevated: var(--shadow-elevated);
    --shadow-accent-glow: 0 0 20px hsl(217 91% 60% / 0.3);
    --shadow-bullish-glow: 0 0 15px hsl(142 71% 45% / 0.3);
    --shadow-bearish-glow: 0 0 15px hsl(346 77% 50% / 0.3);
    --shadow-inset: var(--shadow-inset);

    /* ── Spacing (Terminal Density) ── */
    --spacing-terminal: 6px;

    /* ── Animations ── */
    --ease-expo: cubic-bezier(0.16, 1, 0.3, 1);

    --animate-fade-up: fade-up 0.5s var(--ease-expo) both;
    --animate-glow-pulse: glow-pulse 2s ease-in-out infinite;
    --animate-scanning: scanning 1.5s ease-in-out infinite;
    --animate-shimmer: shimmer 2s linear infinite;
    --animate-typewriter: typewriter 0.05s steps(1) infinite;
}

/* ── Keyframes ── */
@keyframes fade-up {
    from {
        opacity: 0;
        transform: translateY(12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes glow-pulse {

    0%,
    100% {
        opacity: 0.4;
    }

    50% {
        opacity: 1;
    }
}

@keyframes scanning {
    0% {
        transform: translateX(-100%);
    }

    100% {
        transform: translateX(100%);
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

@keyframes typewriter {
    50% {
        opacity: 0;
    }
}

@keyframes slide-in-right {
    from {
        opacity: 0;
        transform: translateX(20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes nav-glow {

    0%,
    100% {
        opacity: 0.5;
    }

    50% {
        opacity: 1;
    }
}

/* ── Base Styles ── */
@layer base {

    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }

    /* ── Global Focus-Visible Ring ── */
    :focus-visible {
        outline: 2px solid var(--color-accent);
        outline-offset: 2px;
        border-radius: 4px;
    }

    :focus:not(:focus-visible) {
        outline: none;
    }

    html {
        font-family: var(--font-sans);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    body {
        margin: 0;
        padding: 0;
        background-color: var(--color-base);
        color: var(--color-text-primary);
        min-height: 100dvh;
        overflow-x: hidden;

        /* Quantum void: subtle radial ambient glows */
        background-image:
            radial-gradient(ellipse at 15% 0%, hsl(217 91% 60% / 0.06) 0%, transparent 50%),
            radial-gradient(ellipse at 85% 100%, hsl(142 71% 45% / 0.04) 0%, transparent 50%);
        background-attachment: fixed;
    }

    /* Monospace for all numeric data */
    [data-mono],
    .mono {
        font-family: var(--font-mono);
        font-variant-numeric: tabular-nums;
        font-feature-settings: 'tnum';
    }

    /* Selection color */
    ::selection {
        background: hsl(217 91% 60% / 0.3);
        color: white;
    }

    /* Scrollbar styling (Webkit) */
    ::-webkit-scrollbar,
    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    ::-webkit-scrollbar-track,
    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb,
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: var(--color-scrollbar, hsl(0 0% 50% / 0.2));
        border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover,
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: var(--color-scrollbar-hover, hsl(0 0% 50% / 0.3));
    }

    /* Firefox scrollbar */
    *,
    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: var(--color-scrollbar, hsl(0 0% 50% / 0.2)) transparent;
    }
}

/* ══════════════════════════════════════════════════
   TOP NAVIGATION SYSTEM
   ══════════════════════════════════════════════════ */
@layer components {

    /* ── Top Nav Bar ── */
    .top-nav-bar {
        background: var(--color-surface);
        backdrop-filter: blur(40px) saturate(1.4);
        -webkit-backdrop-filter: blur(40px) saturate(1.4);
        border-bottom: 1px solid var(--color-border);
        position: relative;
    }

    /* ── Nav Glow Line ── */
    .nav-glow-line {
        position: absolute;
        bottom: -1px;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg,
                transparent 0%,
                hsl(217 91% 60% / 0.3) 20%,
                hsl(217 91% 60% / 0.6) 50%,
                hsl(217 91% 60% / 0.3) 80%,
                transparent 100%);
        opacity: 0.6;
        pointer-events: none;
    }

    /* ── Top Nav Tabs Container ── */
    .top-nav-tabs {
        display: flex;
        align-items: center;
        gap: 4px;
        position: relative;
        padding: 6px;
        background: var(--color-glass);
        border-radius: var(--radius-md);
        border: 1px solid var(--color-border);
    }

    /* ── Individual Tab ── */
    .top-nav-tab {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 18px;
        border-radius: var(--radius-sm);
        text-decoration: none;
        font-size: 14px;
        font-weight: 600;
        color: var(--color-text-muted);
        transition: all 0.25s var(--ease-expo);
        position: relative;
        z-index: 1;
        white-space: nowrap;
        cursor: pointer;
    }

    .top-nav-tab .tab-icon {
        font-size: 16px;
        transition: transform 0.25s var(--ease-expo);
    }

    .top-nav-tab .tab-label {
        font-family: var(--font-mono);
        letter-spacing: 0.04em;
        font-weight: 700;
        font-size: 14px;
    }

    .top-nav-tab .tab-zh {
        font-size: 10px;
        font-weight: 500;
        color: var(--color-text-muted);
        opacity: 0.7;
        margin-left: 2px;
    }

    .top-nav-tab:hover {
        color: var(--color-text-secondary);
    }

    .top-nav-tab:hover .tab-icon {
        transform: scale(1.1);
    }

    .top-nav-tab.active {
        color: var(--color-accent);
    }

    .top-nav-tab.active .tab-zh {
        color: var(--color-accent);
        opacity: 0.8;
    }

    /* ── Sliding Tab Indicator ── */
    .tab-indicator {
        position: absolute;
        bottom: 4px;
        left: 0;
        height: calc(100% - 8px);
        background: hsl(217 91% 60% / 0.1);
        border: 1px solid hsl(217 91% 60% / 0.15);
        border-radius: var(--radius-sm);
        transition: all 0.35s var(--ease-expo);
        opacity: 0;
        pointer-events: none;
        box-shadow: 0 0 12px hsl(217 91% 60% / 0.08);
    }

    /* ── Mobile Bottom Nav ── */
    .mobile-bottom-nav {
        display: flex;
        align-items: center;
        justify-content: space-around;
        height: 64px;
        background: var(--color-surface);
        backdrop-filter: blur(24px) saturate(1.3);
        -webkit-backdrop-filter: blur(24px) saturate(1.3);
        border-top: 1px solid var(--color-border);
    }

    .mobile-nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: 8px 16px;
        color: var(--color-text-muted);
        text-decoration: none;
        transition: all 0.2s var(--ease-expo);
        position: relative;
    }

    .mobile-nav-item.active {
        color: var(--color-accent);
    }

    .mobile-nav-item.active::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 20px;
        height: 2px;
        background: var(--color-accent);
        border-radius: 0 0 2px 2px;
    }
}

/* ══════════════════════════════════════════════════
   UTILITY COMPONENTS
   ══════════════════════════════════════════════════ */
@layer components {

    /* Glass Card — Layer 1 (Frosted) */
    .glass-card {
        background: var(--color-glass);
        backdrop-filter: blur(24px) saturate(1.2);
        -webkit-backdrop-filter: blur(24px) saturate(1.2);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        position: relative;
        overflow: hidden;
        transition: all 0.3s var(--ease-expo);
    }

    .glass-card:hover {
        background: var(--color-glass-hover);
        border-color: var(--color-border-hover);
    }

    /* Glass Panel — Layer 2 (Elevated) */
    .glass-panel {
        background: var(--color-glass);
        backdrop-filter: blur(40px) saturate(1.3);
        -webkit-backdrop-filter: blur(40px) saturate(1.3);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-glass);
        position: relative;
        overflow: hidden;
    }

    /* Interactive Glow — Cursor-following radial highlight */
    .glow-interactive {
        position: relative;
    }

    .glow-interactive::before {
        content: '';
        position: absolute;
        inset: 0;
        opacity: 0;
        pointer-events: none;
        z-index: 1;
        transition: opacity 0.4s var(--ease-expo);
        border-radius: inherit;
        background: radial-gradient(300px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
                hsl(0 0% 100% / 0.06),
                transparent 60%);
    }

    .glow-interactive:hover::before {
        opacity: 1;
    }

    /* Terminal Label — Strict uppercase tracking */
    .terminal-label {
        font-size: 11px;
        font-weight: 900;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: var(--color-text-muted);
    }

    /* Data Value — Monospace numeric display */
    .data-value {
        font-family: var(--font-mono);
        font-variant-numeric: tabular-nums;
        font-weight: 700;
    }

    /* Shimmer Skeleton */
    .skeleton {
        background: linear-gradient(90deg,
                hsl(240 6% 10%) 25%,
                hsl(240 6% 16%) 50%,
                hsl(240 6% 10%) 75%);
        background-size: 200% 100%;
        animation: var(--animate-shimmer);
        border-radius: var(--radius-sm);
    }

    /* Cyber Button — Primary CTA */
    .btn-cyber {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background: linear-gradient(135deg, var(--color-accent), hsl(217 91% 45%));
        color: white;
        border: none;
        border-radius: var(--radius-sm);
        font-weight: 800;
        font-size: 12px;
        letter-spacing: 0.05em;
        cursor: pointer;
        transition: all 0.3s var(--ease-expo);
        box-shadow: var(--shadow-accent-glow);
        text-decoration: none;
    }

    .btn-cyber:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 25px hsl(217 91% 60% / 0.5);
    }

    /* Ghost Button — Secondary action */
    .btn-ghost {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        background: var(--color-glass);
        border: 1px solid var(--color-border);
        color: var(--color-text-secondary);
        border-radius: var(--radius-sm);
        font-weight: 600;
        font-size: 11px;
        cursor: pointer;
        transition: all 0.2s var(--ease-expo);
        text-decoration: none;
    }

    .btn-ghost:hover {
        background: var(--color-glass-hover);
        color: var(--color-text-primary);
        border-color: var(--color-border-hover);
    }

    /* Badge */
    .badge {
        display: inline-flex;
        align-items: center;
        padding: 2px 8px;
        border-radius: var(--radius-pill);
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.05em;
    }

    /* Unified Toolbar */
    .terminal-toolbar {
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 16px;
        border-bottom: 1px solid var(--color-border);
        background: hsl(240 10% 3% / 0.7);
        backdrop-filter: blur(20px) saturate(1.2);
        -webkit-backdrop-filter: blur(20px) saturate(1.2);
        position: relative;
    }

    .terminal-toolbar-left,
    .terminal-toolbar-right {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 0;
    }

    .terminal-toolbar-title {
        font-size: 12px;
        font-weight: 800;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--color-text-primary);
        font-family: var(--font-mono);
        white-space: nowrap;
    }

    .terminal-toolbar-meta {
        font-size: 10px;
        color: var(--color-text-muted);
        font-family: var(--font-mono);
        white-space: nowrap;
    }

    .toolbar-control {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        height: 28px;
        padding: 0 10px;
        border-radius: var(--radius-sm);
        border: 1px solid var(--color-border);
        background: hsl(240 8% 8% / 0.7);
        color: var(--color-text-secondary);
        font-size: 11px;
        font-family: var(--font-mono);
    }

    .toolbar-control:focus-within {
        border-color: var(--color-accent);
        box-shadow: 0 0 0 2px hsl(217 91% 60% / 0.12);
    }

    .loading-strip {
        position: absolute;
        top: 0;
        left: 0;
        height: 2px;
        width: 0;
        opacity: 0;
        background: linear-gradient(90deg, var(--color-accent), hsl(217 91% 70%));
        transition:
            width 0.28s ease,
            opacity 0.2s ease;
        z-index: 30;
    }

    .table-loading-row td {
        padding: 10px 12px;
    }

    .table-loading-row .skeleton {
        height: 12px;
    }

    /* Stagger animation utility */
    .stagger-children>* {
        animation: var(--animate-fade-up);
    }

    .stagger-children>*:nth-child(1) {
        animation-delay: 0ms;
    }

    .stagger-children>*:nth-child(2) {
        animation-delay: 50ms;
    }

    .stagger-children>*:nth-child(3) {
        animation-delay: 100ms;
    }

    .stagger-children>*:nth-child(4) {
        animation-delay: 150ms;
    }

    .stagger-children>*:nth-child(5) {
        animation-delay: 200ms;
    }

    .stagger-children>*:nth-child(6) {
        animation-delay: 250ms;
    }

    .stagger-children>*:nth-child(7) {
        animation-delay: 300ms;
    }

    .stagger-children>*:nth-child(8) {
        animation-delay: 350ms;
    }
}

/* ══════════════════════════════════════════════════
   PREMIUM TABLE STYLES
   ══════════════════════════════════════════════════ */
@layer components {

    /* Professional data table */
    .data-table-pro {
        width: 100%;
        text-align: left;
        border-collapse: collapse;
    }

    .data-table-pro thead {
        position: sticky;
        top: 0;
        z-index: 10;
        background: hsl(240 10% 3% / 0.95);
        backdrop-filter: blur(12px);
    }

    .data-table-pro thead th {
        padding: 10px 14px;
        font-size: 10px;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--color-text-muted);
        border-bottom: 1px solid var(--color-border);
        white-space: nowrap;
        user-select: none;
    }

    .data-table-pro thead th.sortable {
        cursor: pointer;
        transition: color 0.2s ease;
    }

    .data-table-pro thead th.sortable:hover {
        color: var(--color-accent);
    }

    .data-table-pro tbody tr {
        border-bottom: 1px solid hsl(0 0% 100% / 0.03);
        transition: background 0.15s ease;
    }

    .data-table-pro tbody tr:hover {
        background: hsl(0 0% 100% / 0.03);
    }

    .data-table-pro tbody td {
        padding: 10px 14px;
        font-size: 13px;
        font-family: var(--font-mono);
        font-variant-numeric: tabular-nums;
    }

    /* Sparkline mini-chart in table cells */
    .sparkline-cell {
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .sparkline-cell svg {
        width: 48px;
        height: 16px;
        flex-shrink: 0;
    }

    /* Stat pill — inline key-value */
    .stat-pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        background: var(--color-glass);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-md);
        font-size: 12px;
    }

    .stat-pill .stat-label {
        font-size: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--color-text-muted);
    }

    .stat-pill .stat-value {
        font-family: var(--font-mono);
        font-weight: 700;
        font-variant-numeric: tabular-nums;
        color: var(--color-text-primary);
    }
}

/* ══════════════════════════════════════════════════
   ENHANCED MICRO-INTERACTIONS
   ══════════════════════════════════════════════════ */
@layer components {

    /* Card hover lift */
    .card-lift {
        transition:
            transform 0.3s var(--ease-expo),
            box-shadow 0.3s var(--ease-expo);
    }

    .card-lift:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
    }

    /* Subtle border glow on hover */
    .border-glow:hover {
        border-color: hsl(217 91% 60% / 0.25);
        box-shadow: 0 0 0 1px hsl(217 91% 60% / 0.08);
    }

    /* Smooth counter animation */
    .counter-animate {
        transition: all 0.4s var(--ease-expo);
    }

    /* Ring pulse for live indicators */
    .ring-pulse {
        position: relative;
    }

    .ring-pulse::after {
        content: '';
        position: absolute;
        inset: -3px;
        border-radius: 50%;
        border: 1.5px solid currentColor;
        opacity: 0;
        animation: ring-expand 2s ease-out infinite;
    }

    /* Section divider with label */
    .section-divider {
        display: flex;
        align-items: center;
        gap: 12px;
        margin: 24px 0 16px;
    }

    .section-divider::before,
    .section-divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background: linear-gradient(90deg, var(--color-border), transparent);
    }

    .section-divider::after {
        background: linear-gradient(90deg, transparent, var(--color-border));
    }

    .section-divider .divider-label {
        font-size: 11px;
        font-weight: 800;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--color-text-muted);
        white-space: nowrap;
    }

    /* Empty state */
    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 48px 24px;
        min-height: 200px;
    }

    .empty-state-icon {
        width: 64px;
        height: 64px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--radius-xl);
        background: var(--color-surface);
        border: 1px solid var(--color-border);
        font-size: 28px;
        margin-bottom: 16px;
    }

    /* Progress ring */
    .progress-ring {
        width: 40px;
        height: 40px;
        position: relative;
    }

    .progress-ring svg {
        transform: rotate(-90deg);
    }

    .progress-ring circle {
        fill: none;
        stroke-width: 3;
        stroke-linecap: round;
    }

    /* Tag chip */
    .tag-chip {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 2px 8px;
        border-radius: var(--radius-pill);
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 0.04em;
        background: var(--color-glass-elevated);
        border: 1px solid var(--color-border);
        color: var(--color-text-secondary);
    }
}

@keyframes ring-expand {
    0% {
        transform: scale(1);
        opacity: 0.6;
    }

    100% {
        transform: scale(1.6);
        opacity: 0;
    }
}

/* ══════════════════════════════════════════════════
   MOBILE ADJUSTMENTS
   ══════════════════════════════════════════════════ */
@media (max-width: 768px) {

    /* Add bottom padding for mobile bottom nav */
    #main-workspace {
        padding-bottom: 80px;
    }

    /* Tighter spacing on mobile */
    .glass-card {
        border-radius: var(--radius-md);
    }

    /* Horizontal scroll for stat rows */
    .mobile-scroll-x {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
    }

    .mobile-scroll-x::-webkit-scrollbar {
        display: none;
    }

    /* Stack grid items */
    .mobile-stack>* {
        min-width: 0;
    }
}

/* ══════════════════════════════════════════════════
   PRINT STYLES
   ══════════════════════════════════════════════════ */
@media print {

    .top-nav-bar,
    .mobile-bottom-nav,
    .btn-cyber,
    .btn-ghost {
        display: none !important;
    }

    body {
        background: white;
        color: black;
    }

    .glass-card {
        background: white;
        border: 1px solid #ddd;
        backdrop-filter: none;
    }
}

/* ══════════════════════════════════════════════════
   REDUCED MOTION
   ══════════════════════════════════════════════════ */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .animate-glow-pulse {
        animation: none;
        opacity: 1;
    }
}

/* realtime update flash */
@keyframes rowFlash {
    from {
        background: rgba(255, 255, 0, 0.3);
    }

    to {
        background: transparent;
    }
}

.flash {
    animation: rowFlash 0.8s ease-out;
}